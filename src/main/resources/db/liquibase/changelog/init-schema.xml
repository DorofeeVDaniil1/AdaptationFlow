<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.31.xsd"
        objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="1758100052488-1" author="Daniil (generated)">
        <createTable tableName="achievement">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_achievement"/>
            </column>
            <column name="deleted_by" type="VARCHAR(50)"/>
            <column name="code" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(150)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="text"/>
            <column name="points" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-2" author="Daniil (generated)">
        <createTable tableName="anketa">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_anketa"/>
            </column>
            <column name="user_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="task_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="difficulty_rating" type="SMALLINT">
                <constraints nullable="false"/>
            </column>
            <column name="satisfaction_rating" type="SMALLINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-3" author="Daniil (generated)">
        <createTable tableName="anketa_question_link">
            <column name="anketa_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_anketa_question_link"/>
            </column>
            <column name="question_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_anketa_question_link"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-4" author="Daniil (generated)">
        <createTable tableName="answer_option">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_answer_option"/>
            </column>
            <column name="question_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="answer_text" type="text">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-5" author="Daniil (generated)">
        <createTable tableName="notification">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_notification"/>
            </column>
            <column name="type" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="sent_at" type="DATETIME"/>
            <column name="read" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-6" author="Daniil (generated)">
        <createTable tableName="notification_user_link">
            <column name="notification_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_notification_user_link"/>
            </column>
            <column name="user_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_notification_user_link"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-7" author="Daniil (generated)">
        <createTable tableName="onboarding_track">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_onboarding_track"/>
            </column>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="text"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-8" author="Daniil (generated)">
        <createTable tableName="points_rule">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_points_rule"/>
            </column>
            <column name="entity_type" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="entity_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="points" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="text"/>
            <column name="active" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="deleted_by" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-9" author="Daniil (generated)">
        <createTable tableName="points_transaction">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_points_transaction"/>
            </column>
            <column name="user_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="points_rule_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="anketa_id" type="UUID"/>
            <column name="points" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-10" author="Daniil (generated)">
        <createTable tableName="progress">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_progress"/>
            </column>
            <column name="detail_id" type="UUID"/>
            <column name="completed_at" type="DATETIME"/>
            <column name="comment" type="text"/>
            <column name="assignment_user" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="assignment_task" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-11" author="Daniil (generated)">
        <createTable tableName="question_option">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_question_option"/>
            </column>
            <column name="question_text" type="text">
                <constraints nullable="false"/>
            </column>
            <column name="is_active" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="deleted_by" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-12" author="Daniil (generated)">
        <createTable tableName="role">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_role"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="text"/>
            <column name="deleted_by" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-13" author="Daniil (generated)">
        <createTable tableName="support_request">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_support_request"/>
            </column>
            <column name="user_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="question" type="text">
                <constraints nullable="false"/>
            </column>
            <column name="answer" type="text"/>
            <column name="status" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="answered_at" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-14" author="Daniil (generated)">
        <createTable tableName="sys_users">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_sys_users"/>
            </column>
            <column name="login" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="password_hash" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="first_name" type="VARCHAR(50)"/>
            <column name="last_name" type="VARCHAR(50)"/>
            <column name="patronymic" type="VARCHAR(100)"/>
            <column name="email" type="VARCHAR(254)"/>
            <column name="is_active" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="last_login_date" type="DATETIME"/>
            <column name="user_level_id" type="UUID"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-15" author="Daniil (generated)">
        <createTable tableName="task_detail">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_task_detail"/>
            </column>
            <column name="task_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="text"/>
            <column name="status" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="deleted_by" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-16" author="Daniil (generated)">
        <createTable tableName="task_detail_additional_info">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_task_detail_additional_info"/>
            </column>
            <column name="task_detail_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="document_url" type="text">
                <constraints nullable="false"/>
            </column>
            <column name="category" type="text">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-17" author="Daniil (generated)">
        <createTable tableName="tasks">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_tasks"/>
            </column>
            <column name="track_stage_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="text"/>
            <column name="status" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="expired_time_task" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-18" author="Daniil (generated)">
        <createTable tableName="track_stage">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_track_stage"/>
            </column>
            <column name="onboarding_track_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="text"/>
            <column name="order_index" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-19" author="Daniil (generated)">
        <createTable tableName="user_achievement_link">
            <column name="awarded_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_user_achievement_link"/>
            </column>
            <column name="achievement_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_user_achievement_link"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-20" author="Daniil (generated)">
        <createTable tableName="user_level">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_user_level"/>
            </column>
            <column name="title" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="min_points" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="max_points" type="INT"/>
            <column name="description" type="text"/>
            <column name="deleted_by" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-21" author="Daniil (generated)">
        <createTable tableName="user_onboarding_track_link">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_user_onboarding_track_link"/>
            </column>
            <column name="user_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="track_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="started_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="create_ts" type="DATETIME"/>
            <column name="created_by" type="VARCHAR(50)"/>
            <column name="update_ts" type="DATETIME"/>
            <column name="updated_by" type="VARCHAR(50)"/>
            <column name="delete_ts" type="DATETIME"/>
            <column name="deleted_by" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-22" author="Daniil (generated)">
        <createTable tableName="user_role_link">
            <column name="role_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_user_role_link"/>
            </column>
            <column name="user_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_user_role_link"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-23" author="Daniil (generated)">
        <createTable tableName="user_track_stage_link">
            <column name="id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_user_track_stage_link"/>
            </column>
            <column name="uot_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="stage_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="unlocked_at" type="DATETIME"/>
            <column name="completed_at" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-24" author="Daniil (generated)">
        <createTable tableName="users_tasks_link">
            <column name="assigned_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="due_date" type="DATETIME"/>
            <column name="user_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_users_tasks_link"/>
            </column>
            <column name="task_id" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_users_tasks_link"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1758100052488-25" author="Daniil (generated)">
        <createIndex indexName="achievement_achievement_code_key" tableName="achievement" unique="true">
            <column name="code"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-26" author="Daniil (generated)">
        <createIndex indexName="points_rule_uq_points_rule" tableName="points_rule" unique="true">
            <column name="entity_type"/>
            <column name="entity_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-28" author="Daniil (generated)">
        <createIndex indexName="role_role_name_key" tableName="role" unique="true">
            <column name="name"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-30" author="Daniil (generated)">
        <createIndex indexName="track_stage_uq_ts_order" tableName="track_stage" unique="true">
            <column name="onboarding_track_id"/>
            <column name="order_index"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-31" author="Daniil (generated)">
        <createIndex indexName="user_level_user_level_title_key" tableName="user_level" unique="true">
            <column name="title"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-32" author="Daniil (generated)">
        <createIndex indexName="user_onboarding_track_link_uq_uot" tableName="user_onboarding_track_link" unique="true">
            <column name="user_id"/>
            <column name="track_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-34" author="Daniil (generated)">
        <createIndex indexName="user_track_stage_uq_uts" tableName="user_track_stage_link" unique="true">
            <column name="uot_id"/>
            <column name="stage_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-37" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="task_id" baseTableName="anketa" constraintName="FK_ANKETA_ON_TASK"
                                 referencedColumnNames="id" referencedTableName="tasks"/>
    </changeSet>
    <changeSet id="1758100052488-38" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="anketa" constraintName="FK_ANKETA_ON_USER"
                                 referencedColumnNames="id" referencedTableName="sys_users"/>
    </changeSet>
    <changeSet id="1758100052488-39" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="anketa_id" baseTableName="anketa_question_link"
                                 constraintName="FK_ANKQUE_ON_ANKETA" referencedColumnNames="id"
                                 referencedTableName="anketa"/>
    </changeSet>
    <changeSet id="1758100052488-40" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="question_id" baseTableName="anketa_question_link"
                                 constraintName="FK_ANKQUE_ON_QUESTION_OPTION" referencedColumnNames="id"
                                 referencedTableName="question_option"/>
    </changeSet>
    <changeSet id="1758100052488-41" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="question_id" baseTableName="answer_option"
                                 constraintName="FK_ANSWER_OPTION_ON_QUESTION" referencedColumnNames="id"
                                 referencedTableName="question_option"/>
    </changeSet>
    <changeSet id="1758100052488-42" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="notification_id" baseTableName="notification_user_link"
                                 constraintName="FK_NOTUSE_ON_NOTIFICATION" referencedColumnNames="id"
                                 referencedTableName="notification"/>
    </changeSet>
    <changeSet id="1758100052488-43" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="notification_user_link"
                                 constraintName="FK_NOTUSE_ON_SYS_USER" referencedColumnNames="id"
                                 referencedTableName="sys_users"/>
    </changeSet>
    <changeSet id="1758100052488-44" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="anketa_id" baseTableName="points_transaction"
                                 constraintName="FK_POINTS_TRANSACTION_ON_ANKETA" referencedColumnNames="id"
                                 referencedTableName="anketa"/>
    </changeSet>
    <changeSet id="1758100052488-45" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="points_rule_id" baseTableName="points_transaction"
                                 constraintName="FK_POINTS_TRANSACTION_ON_POINTS_RULE" referencedColumnNames="id"
                                 referencedTableName="points_rule"/>
    </changeSet>
    <changeSet id="1758100052488-46" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="points_transaction"
                                 constraintName="FK_POINTS_TRANSACTION_ON_USER" referencedColumnNames="id"
                                 referencedTableName="sys_users"/>

        <createIndex indexName="points_transaction_idx_points_transaction_user_id" tableName="points_transaction">
            <column name="user_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-47" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="detail_id" baseTableName="progress"
                                 constraintName="FK_PROGRESS_ON_DETAIL" referencedColumnNames="id"
                                 referencedTableName="task_detail"/>
    </changeSet>
    <changeSet id="1758100052488-48" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="support_request"
                                 constraintName="FK_SUPPORT_REQUEST_ON_USER" referencedColumnNames="id"
                                 referencedTableName="sys_users"/>
    </changeSet>
    <changeSet id="1758100052488-49" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_level_id" baseTableName="sys_users"
                                 constraintName="FK_SYS_USERS_ON_USER_LEVEL" referencedColumnNames="id"
                                 referencedTableName="user_level"/>
    </changeSet>
    <changeSet id="1758100052488-50" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="track_stage_id" baseTableName="tasks"
                                 constraintName="FK_TASKS_ON_TRACK_STAGE" referencedColumnNames="id"
                                 referencedTableName="track_stage"/>

        <createIndex indexName="tasks_idx_task_stage_id" tableName="tasks">
            <column name="track_stage_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-51" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="task_detail_id" baseTableName="task_detail_additional_info"
                                 constraintName="FK_TASK_DETAIL_ADDITIONAL_INFO_ON_TASK_DETAIL"
                                 referencedColumnNames="id" referencedTableName="task_detail"/>
    </changeSet>
    <changeSet id="1758100052488-52" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="task_id" baseTableName="task_detail"
                                 constraintName="FK_TASK_DETAIL_ON_TASK" referencedColumnNames="id"
                                 referencedTableName="tasks"/>
    </changeSet>
    <changeSet id="1758100052488-53" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="onboarding_track_id" baseTableName="track_stage"
                                 constraintName="FK_TRACK_STAGE_ON_ONBOARDING_TRACK" referencedColumnNames="id"
                                 referencedTableName="onboarding_track"/>
    </changeSet>
    <changeSet id="1758100052488-54" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="user_role_link"
                                 constraintName="FK_USEROL_ON_ROLE" referencedColumnNames="id"
                                 referencedTableName="role"/>
    </changeSet>
    <changeSet id="1758100052488-55" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_role_link"
                                 constraintName="FK_USEROL_ON_SYS_USER" referencedColumnNames="id"
                                 referencedTableName="sys_users"/>
    </changeSet>
    <changeSet id="1758100052488-56" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="task_id" baseTableName="users_tasks_link"
                                 constraintName="FK_USERS_TASKS_LINK_ON_TASK" referencedColumnNames="id"
                                 referencedTableName="tasks"/>

        <createIndex indexName="users_tasks_link_idx_users_tasks_link_task_id" tableName="users_tasks_link">
            <column name="task_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-57" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="users_tasks_link"
                                 constraintName="FK_USERS_TASKS_LINK_ON_USER" referencedColumnNames="id"
                                 referencedTableName="sys_users"/>

        <createIndex indexName="users_tasks_link_idx_users_tasks_link_user_id" tableName="users_tasks_link">
            <column name="user_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1758100052488-58" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="achievement_id" baseTableName="user_achievement_link"
                                 constraintName="FK_USER_ACHIEVEMENT_LINK_ON_ACHIEVEMENT" referencedColumnNames="id"
                                 referencedTableName="achievement"/>
    </changeSet>
    <changeSet id="1758100052488-59" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_achievement_link"
                                 constraintName="FK_USER_ACHIEVEMENT_LINK_ON_USER" referencedColumnNames="id"
                                 referencedTableName="sys_users"/>
    </changeSet>
    <changeSet id="1758100052488-60" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="track_id" baseTableName="user_onboarding_track_link"
                                 constraintName="FK_USER_ONBOARDING_TRACK_LINK_ON_TRACK" referencedColumnNames="id"
                                 referencedTableName="onboarding_track"/>
    </changeSet>
    <changeSet id="1758100052488-61" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_onboarding_track_link"
                                 constraintName="FK_USER_ONBOARDING_TRACK_LINK_ON_USER" referencedColumnNames="id"
                                 referencedTableName="sys_users"/>
    </changeSet>
    <changeSet id="1758100052488-62" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="stage_id" baseTableName="user_track_stage_link"
                                 constraintName="FK_USER_TRACK_STAGE_LINK_ON_STAGE" referencedColumnNames="id"
                                 referencedTableName="track_stage"/>
    </changeSet>
    <changeSet id="1758100052488-63" author="Daniil (generated)">
        <addForeignKeyConstraint baseColumnNames="uot_id" baseTableName="user_track_stage_link"
                                 constraintName="FK_USER_TRACK_STAGE_LINK_ON_UOT" referencedColumnNames="id"
                                 referencedTableName="user_onboarding_track_link"/>

        <createIndex indexName="user_track_stage_idx_user_track_stage_uot_id" tableName="user_track_stage_link">
            <column name="uot_id"/>
        </createIndex>
    </changeSet>

</databaseChangeLog>